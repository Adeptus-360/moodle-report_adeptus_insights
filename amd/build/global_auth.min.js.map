{"version":3,"file":"global_auth.min.js","sources":["../src/global_auth.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Global authentication handling for Adeptus Insights plugin.\n *\n * Authentication is handled by Moodle's standard login system.\n * This module provides minimal compatibility stubs.\n *\n * @module     report_adeptus_insights/global_auth\n * @copyright  2026 Adeptus 360 <info@adeptus360.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([], function() {\n    'use strict';\n\n    /**\n     * Global Authentication stub for Adeptus Insights plugin.\n     * Authentication is handled by Moodle - this module provides no-op methods for compatibility.\n     */\n    var GlobalAuth = {\n\n        /**\n         * Initialize - no-op since auth is handled by Moodle.\n         *\n         * @returns {Promise} Promise that resolves immediately\n         */\n        init: function() {\n            return Promise.resolve();\n        },\n\n        /**\n         * Check if user is authenticated.\n         * Always returns true since Moodle handles authentication.\n         *\n         * @returns {boolean} True\n         */\n        isAuthenticated: function() {\n            return true;\n        },\n\n        /**\n         * Get authentication data.\n         *\n         * @returns {Object} Auth data from window or empty object\n         */\n        getAuthData: function() {\n            return window.adeptusAuthData || {};\n        },\n\n        /**\n         * Show modal - no-op, authentication is handled by Moodle.\n         */\n        showModal: function() {\n            // No-op - authentication handled by Moodle login.\n        },\n\n        /**\n         * Hide modal - no-op.\n         */\n        hideModal: function() {\n            // No-op.\n        },\n\n        /**\n         * Logout - redirect to Moodle logout.\n         */\n        logout: function() {\n            window.location.href = M.cfg.wwwroot + '/login/logout.php?sesskey=' + M.cfg.sesskey;\n        }\n    };\n\n    return GlobalAuth;\n});\n"],"names":["define","init","Promise","resolve","isAuthenticated","getAuthData","window","adeptusAuthData","showModal","hideModal","logout","location","href","M","cfg","wwwroot","sesskey"],"mappings":";;;;;;;;;;AA0BAA,6CAAO,IAAI,iBAOU,CAObC,KAAM,kBACKC,QAAQC,WASnBC,gBAAiB,kBACN,GAQXC,YAAa,kBACFC,OAAOC,iBAAmB,IAMrCC,UAAW,aAOXC,UAAW,aAOXC,OAAQ,WACJJ,OAAOK,SAASC,KAAOC,EAAEC,IAAIC,QAAU,6BAA+BF,EAAEC,IAAIE"}