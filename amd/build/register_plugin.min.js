/**
 * Plugin Registration JavaScript Module
 *
 * Handles form validation and submission for the plugin registration wizard.
 *
 * @module     report_adeptus_insights/register_plugin
 * @package    report_adeptus_insights
 * @copyright  2026 Adeptus 360 <info@adeptus360.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("report_adeptus_insights/register_plugin",["jquery","core/str"],(function($,Str){var STRINGS={},requiredFields=[],validateFields=function(){var missingFields=[],submitBtn=$("#register-btn"),validationError=$("#validation-error"),validationMessage=$("#validation-message");if(requiredFields.forEach((function(field){var value=field.value?field.value.trim():"";value&&""!==value&&"undefined"!==value&&"null"!==value||missingFields.push(field.name)})),missingFields.length>0){validationError.css("display","block");var message=STRINGS.missingFieldsMessage.replace("{fields}","<strong>"+missingFields.join(", ")+"</strong>");return validationMessage.html(message),submitBtn.prop("disabled",!0),submitBtn.css({opacity:"0.5",cursor:"not-allowed"}),submitBtn.html('<i class="fa fa-ban"></i> '+STRINGS.registrationDisabled),!1}return validationError.css("display","none"),submitBtn.prop("disabled",!1),submitBtn.css({opacity:"1",cursor:"pointer"}),submitBtn.html('<i class="fa fa-check"></i> '+STRINGS.registerPlugin),!0};return{init:function(config){var fieldValues=config.fieldValues||{};Str.get_strings([{key:"site_name_label",component:"report_adeptus_insights"},{key:"site_url_label",component:"report_adeptus_insights"},{key:"administrator_name",component:"report_adeptus_insights"},{key:"administrator_email",component:"report_adeptus_insights"},{key:"moodle_version",component:"report_adeptus_insights"},{key:"php_version",component:"report_adeptus_insights"},{key:"plugin_version",component:"report_adeptus_insights"},{key:"missing_fields_message",component:"report_adeptus_insights"},{key:"registration_disabled",component:"report_adeptus_insights"},{key:"register_plugin",component:"report_adeptus_insights"},{key:"registering",component:"report_adeptus_insights"}]).then((function(results){return STRINGS={siteName:results[0],siteUrl:results[1],administratorName:results[2],administratorEmail:results[3],moodleVersion:results[4],phpVersion:results[5],pluginVersion:results[6],missingFieldsMessage:results[7],registrationDisabled:results[8],registerPlugin:results[9],registering:results[10]}})).catch((function(){return STRINGS={siteName:"Site Name",siteUrl:"Site URL",administratorName:"Administrator Name",administratorEmail:"Administrator Email",moodleVersion:"Moodle Version",phpVersion:"PHP Version",pluginVersion:"Plugin Version",missingFieldsMessage:"The following required fields are missing: {fields}",registrationDisabled:"Registration Disabled",registerPlugin:"Register Plugin",registering:"Registering..."}})).then((function(){var form,submitBtn,loadingOverlay;requiredFields=[{id:"site_name",name:STRINGS.siteName,value:fieldValues.siteName||""},{id:"site_url",name:STRINGS.siteUrl,value:fieldValues.siteUrl||""},{id:"admin_name",name:STRINGS.administratorName,value:fieldValues.adminName||""},{id:"admin_email",name:STRINGS.administratorEmail,value:fieldValues.adminEmail||""},{id:"moodle_version",name:STRINGS.moodleVersion,value:fieldValues.moodleVersion||""},{id:"php_version",name:STRINGS.phpVersion,value:fieldValues.phpVersion||""},{id:"plugin_version",name:STRINGS.pluginVersion,value:fieldValues.pluginVersion||""}],validateFields(),form=$("#registration-form"),submitBtn=$("#register-btn"),loadingOverlay=$("#loading-overlay"),form.length&&form.on("submit",(function(e){return validateFields()?(loadingOverlay.css("display","block"),submitBtn.prop("disabled",!0),submitBtn.html('<i class="fa fa-spinner fa-spin"></i> '+STRINGS.registering),!0):(e.preventDefault(),!1)}))}))}}}));

//# sourceMappingURL=register_plugin.min.js.map